<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Breast Cancer</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="breastCancerCells_files/libs/clipboard/clipboard.min.js"></script>
<script src="breastCancerCells_files/libs/quarto-html/quarto.js"></script>
<script src="breastCancerCells_files/libs/quarto-html/popper.min.js"></script>
<script src="breastCancerCells_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="breastCancerCells_files/libs/quarto-html/anchor.min.js"></script>
<link href="breastCancerCells_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="breastCancerCells_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="breastCancerCells_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="breastCancerCells_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="breastCancerCells_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

<script src="breastCancerCells_files/libs/kePrint-0.0.1/kePrint.js"></script>
<link href="breastCancerCells_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#importing-cleaning" id="toc-importing-cleaning" class="nav-link active" data-scroll-target="#importing-cleaning">Importing &amp; cleaning</a></li>
  <li><a href="#analysis" id="toc-analysis" class="nav-link" data-scroll-target="#analysis">Analysis</a></li>
  <li><a href="#scaling-the-data" id="toc-scaling-the-data" class="nav-link" data-scroll-target="#scaling-the-data">Scaling the data</a></li>
  <li><a href="#comparing-ors-across-models" id="toc-comparing-ors-across-models" class="nav-link" data-scroll-target="#comparing-ors-across-models">Comparing ORs across models</a></li>
  <li><a href="#evaluate" id="toc-evaluate" class="nav-link" data-scroll-target="#evaluate">Evaluate</a></li>
  <li><a href="#principal-component-analysis" id="toc-principal-component-analysis" class="nav-link" data-scroll-target="#principal-component-analysis">Principal component analysis</a></li>
  <li><a href="#correlations" id="toc-correlations" class="nav-link" data-scroll-target="#correlations">Correlations</a></li>
  <li><a href="#archive" id="toc-archive" class="nav-link" data-scroll-target="#archive">Archive</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Breast Cancer</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Analyzes a dataset of features computed from a digitized image of a fine needle aspirate (FNA) of breast mass.</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: right;">Feature</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;"><code>radius</code></td>
<td style="text-align: left;">mean of distances from center to points on the perimeter</td>
</tr>
<tr class="even">
<td style="text-align: right;"><code>texture</code></td>
<td style="text-align: left;">standard deviation of gray-scale values</td>
</tr>
<tr class="odd">
<td style="text-align: right;"><code>perimeter</code></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: right;"><code>area</code></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: right;"><code>smoothness</code></td>
<td style="text-align: left;">local variation in radius lengths</td>
</tr>
<tr class="even">
<td style="text-align: right;"><code>compactness</code></td>
<td style="text-align: left;">perimeter^2 / area - 1.0</td>
</tr>
<tr class="odd">
<td style="text-align: right;"><code>concavity</code></td>
<td style="text-align: left;">severity of concave portions of the contour</td>
</tr>
<tr class="even">
<td style="text-align: right;"><code>concave</code></td>
<td style="text-align: left;">number of concave portions of the contour</td>
</tr>
<tr class="odd">
<td style="text-align: right;"><code>symmetry</code></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: right;"><code>fractal dimension</code></td>
<td style="text-align: left;">- “coastline approximation” - 1</td>
</tr>
</tbody>
</table>
<p>Each feature has 3 variables: mean, standard error (se), worst (largest) resulting in 30 variables in total</p>
<div class="callout callout-style-simple callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Next Steps
</div>
</div>
<div class="callout-body-container callout-body">
<p>Since perimeter seems to be a calculation for several other variables, remove for next model but the current iteration includes it.</p>
</div>
</div>
<section id="importing-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="importing-cleaning">Importing &amp; cleaning</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pROC)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="lightable-minimal table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Package</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Version</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">caret</td>
<td style="text-align: left;">6.0-94</td>
</tr>
<tr class="even">
<td style="text-align: left;">lattice</td>
<td style="text-align: left;">0.21-9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pROC</td>
<td style="text-align: left;">1.18.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">kableExtra</td>
<td style="text-align: left;">1.3.4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">lubridate</td>
<td style="text-align: left;">1.9.3</td>
</tr>
<tr class="even">
<td style="text-align: left;">forcats</td>
<td style="text-align: left;">1.0.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">stringr</td>
<td style="text-align: left;">1.5.1</td>
</tr>
<tr class="even">
<td style="text-align: left;">dplyr</td>
<td style="text-align: left;">1.1.4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">purrr</td>
<td style="text-align: left;">1.0.2</td>
</tr>
<tr class="even">
<td style="text-align: left;">readr</td>
<td style="text-align: left;">2.1.4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">tidyr</td>
<td style="text-align: left;">1.3.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">tibble</td>
<td style="text-align: left;">3.2.1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ggplot2</td>
<td style="text-align: left;">3.4.4</td>
</tr>
<tr class="even">
<td style="text-align: left;">tidyverse</td>
<td style="text-align: left;">2.0.0</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Imports and cleans the dataset for easier manipulation</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>bc_import <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"PCA/breastcancerdata.csv"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#cleans all names for easy manipulation</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#removes empty rows and columns</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">remove_empty</span>() <span class="sc">|&gt;</span> </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">#reformats an oddly names variable</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span> <span class="fu">gsub</span>(<span class="st">"concave_points"</span>, <span class="st">"concavePoints"</span>, .x)) <span class="sc">|&gt;</span> </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">#reformats an oddly names variable</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span> <span class="fu">gsub</span>(<span class="st">"fractal_dimension"</span>, <span class="st">"fractalDimension"</span>, .x)) <span class="sc">|&gt;</span> </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">#creates and factors an outcome variable</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">outcome =</span> <span class="fu">factor</span>(<span class="fu">ifelse</span>(diagnosis <span class="sc">==</span> <span class="st">"M"</span>, <span class="dv">1</span>, <span class="dv">0</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="analysis" class="level2">
<h2 class="anchored" data-anchor-id="analysis">Analysis</h2>
<p>Start with running a simple logistic regression. Here we take only “mean” variables</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>Estimate</code> throughout the analysis is the Odds Ratio unless otherwise noted</p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>model1 <span class="ot">&lt;-</span> bc_import <span class="sc">|&gt;</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(outcome, <span class="fu">ends_with</span>(<span class="st">"mean"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glm</span>(outcome <span class="sc">~</span> ., <span class="at">data =</span> ., <span class="at">family =</span> <span class="st">"binomial"</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>model1_cis <span class="ot">&lt;-</span><span class="fu">confint.default</span>(model1) <span class="sc">|&gt;</span> </span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="st">"term"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>) </span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(model1_cis) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"term"</span>, <span class="st">"lci"</span>, <span class="st">"uci"</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>model1_tbl <span class="ot">&lt;-</span> <span class="fu">summary</span>(model1) <span class="sc">|&gt;</span> </span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pluck</span>(<span class="st">'coefficients'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> </span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rownames_to_column</span>(<span class="st">"term"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="at">p.value =</span> pr_z) <span class="sc">|&gt;</span> </span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="sc">-</span>estimate) <span class="sc">|&gt;</span> </span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">signif =</span> <span class="fu">case_when</span>(</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.001</span> <span class="sc">~</span> <span class="st">"&lt;0.001"</span>,</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.01</span> <span class="sc">~</span> <span class="st">"&lt;0.01"</span>, </span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.05</span> <span class="sc">~</span> <span class="st">"&lt;0.05"</span>, </span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>      T <span class="sc">~</span> <span class="st">""</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    ), </span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(model1_cis, <span class="at">by =</span> <span class="st">"term"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>This results in the following model output. The odds ratio for <code>smoothness_mean</code>, <code>concavePoints_mean</code>, <code>symmetry_mean</code> are extremely large, suggesting an unstable model or variable. Perhaps those variables are highly correlated with the outcome (malignancy).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>model1_tbl <span class="sc">|&gt;</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(estimate, lci, uci), <span class="sc">~</span> <span class="fu">round</span>(<span class="fu">exp</span>(.x),<span class="dv">2</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(estimate, lci, uci), <span class="sc">~</span> <span class="fu">ifelse</span>(.x <span class="sc">&gt;</span> <span class="dv">20</span>, <span class="st">"extreme (&gt;20)"</span>, <span class="fu">as.character</span>(.x)) )) <span class="sc">|&gt;</span> </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>( ) <span class="sc">|&gt;</span> </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="fu">which</span>(model1_tbl<span class="sc">$</span>signif <span class="sc">==</span> <span class="st">"&lt;0.05"</span>), <span class="at">color =</span> <span class="st">'white'</span>, <span class="at">background =</span> <span class="st">'#48cae4'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="fu">which</span>(model1_tbl<span class="sc">$</span>signif <span class="sc">==</span> <span class="st">"&lt;0.01"</span>), <span class="at">color =</span> <span class="st">'white'</span>, <span class="at">background =</span> <span class="st">'#0096c7'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="fu">which</span>(model1_tbl<span class="sc">$</span>signif <span class="sc">==</span> <span class="st">"&lt;0.001"</span>), <span class="at">color =</span> <span class="st">'white'</span>, <span class="at">background =</span> <span class="st">'#023e8a'</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std_error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">z_value</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p.value</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">signif</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">lci</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">uci</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">smoothness_mean</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">extreme (&gt;20)</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">31.9549173</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">2.3918783</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">0.0167624</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">&lt;0.05</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">extreme (&gt;20)</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">extreme (&gt;20)</td>
</tr>
<tr class="even">
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">concavePoints_mean</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">extreme (&gt;20)</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">28.5290991</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">2.3422316</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">0.0191688</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">&lt;0.05</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">extreme (&gt;20)</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">extreme (&gt;20)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">symmetry_mean</td>
<td style="text-align: left;">extreme (&gt;20)</td>
<td style="text-align: right;">10.6305856</td>
<td style="text-align: right;">1.5312649</td>
<td style="text-align: right;">0.1257039</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.01</td>
<td style="text-align: left;">extreme (&gt;20)</td>
</tr>
<tr class="even">
<td style="text-align: left;">concavity_mean</td>
<td style="text-align: left;">extreme (&gt;20)</td>
<td style="text-align: right;">8.1200343</td>
<td style="text-align: right;">1.0429389</td>
<td style="text-align: right;">0.2969766</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">extreme (&gt;20)</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">texture_mean</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">1.47</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">0.0645368</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">5.9614695</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">0.0000000</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">&lt;0.001</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">1.29</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">1.67</td>
</tr>
<tr class="even">
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">area_mean</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">1.04</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">0.0167396</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">2.3773681</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">0.0174367</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">&lt;0.05</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">1.01</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">1.08</td>
</tr>
<tr class="odd">
<td style="text-align: left;">perimeter_mean</td>
<td style="text-align: left;">0.93</td>
<td style="text-align: right;">0.5051648</td>
<td style="text-align: right;">-0.1415586</td>
<td style="text-align: right;">0.8874287</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.35</td>
<td style="text-align: left;">2.51</td>
</tr>
<tr class="even">
<td style="text-align: left;">compactness_mean</td>
<td style="text-align: left;">0.23</td>
<td style="text-align: right;">20.3424949</td>
<td style="text-align: right;">-0.0718900</td>
<td style="text-align: right;">0.9426894</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">extreme (&gt;20)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">radius_mean</td>
<td style="text-align: left;">0.13</td>
<td style="text-align: right;">3.7158804</td>
<td style="text-align: right;">-0.5514992</td>
<td style="text-align: right;">0.5812915</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">extreme (&gt;20)</td>
</tr>
<tr class="even">
<td style="text-align: left;">fractalDimension_mean</td>
<td style="text-align: left;">0</td>
<td style="text-align: right;">85.5566574</td>
<td style="text-align: right;">-0.7987342</td>
<td style="text-align: right;">0.4244446</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">extreme (&gt;20)</td>
</tr>
</tbody>
</table>


</div>
</div>
<section id="function" class="level4">
<h4 class="anchored" data-anchor-id="function">Function</h4>
<p>As to not repeat code, I made a function to run the logistic regression by each measurement type</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>scale_data <span class="ot">&lt;-</span> bc_import[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">33</span>)] <span class="sc">|&gt;</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), <span class="sc">~</span><span class="fu">scale</span>(.x)))<span class="sc">|&gt;</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">cbind</span>(<span class="at">outcome =</span> bc_import<span class="sc">$</span>outcome) <span class="co">#%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>      <span class="co"># select(-starts_with(c("radius", "concavePoints")))</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>get_submodel <span class="ot">&lt;-</span> <span class="cf">function</span>(type, <span class="at">scale =</span> <span class="cn">FALSE</span>) {</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (scale) {</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    model_fx <span class="ot">&lt;-</span> scale_data <span class="sc">|&gt;</span> </span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(outcome, <span class="fu">ends_with</span>(type)) <span class="sc">%&gt;%</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">glm</span>(outcome <span class="sc">~</span> ., <span class="at">data =</span> ., <span class="at">family =</span> <span class="st">"binomial"</span>) </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    model_fx <span class="ot">&lt;-</span> bc_import <span class="sc">|&gt;</span> </span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(outcome, <span class="fu">ends_with</span>(type)) <span class="sc">%&gt;%</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>      <span class="co"># select(-starts_with(c("radius", "concavePoints"))) %&gt;%</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">glm</span>(outcome <span class="sc">~</span> ., <span class="at">data =</span> ., <span class="at">family =</span> <span class="st">"binomial"</span>) </span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>  modelfx_cis <span class="ot">&lt;-</span> <span class="fu">confint.default</span>( model_fx) <span class="sc">|&gt;</span> </span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> </span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rownames_to_column</span>(<span class="st">"term"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>    janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>) </span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(modelfx_cis) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"term"</span>, <span class="st">"lci"</span>, <span class="st">"uci"</span>)</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>  modelfx_tbl <span class="ot">&lt;-</span> <span class="fu">summary</span>(model_fx) <span class="sc">|&gt;</span> </span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pluck</span>(<span class="st">'coefficients'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> </span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rownames_to_column</span>(<span class="st">"term"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>    janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="at">p.value =</span> pr_z) <span class="sc">|&gt;</span> </span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="sc">-</span>estimate) <span class="sc">|&gt;</span> </span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">signif =</span> <span class="fu">case_when</span>(</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.001</span> <span class="sc">~</span> <span class="st">"&lt;0.001"</span>,</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.01</span> <span class="sc">~</span> <span class="st">"&lt;0.01"</span>, </span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.05</span> <span class="sc">~</span> <span class="st">"&lt;0.05"</span>, </span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>      T <span class="sc">~</span> <span class="st">""</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>    ), </span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(modelfx_cis, <span class="at">by =</span> <span class="st">"term"</span>) </span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>  modelfx_kbl <span class="ot">&lt;-</span> modelfx_tbl <span class="sc">|&gt;</span> </span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>     <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(estimate, lci, uci), <span class="sc">~</span> <span class="fu">round</span>(<span class="fu">exp</span>(.x),<span class="dv">2</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>     <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(estimate, lci, uci), <span class="sc">~</span> <span class="fu">ifelse</span>(.x <span class="sc">&gt;</span> <span class="dv">20</span>, <span class="st">"extreme (&gt;20)"</span>, <span class="fu">as.character</span>(.x)) )) <span class="sc">|&gt;</span> </span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>    knitr<span class="sc">::</span><span class="fu">kable</span>( ) <span class="sc">|&gt;</span> </span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">row_spec</span>(<span class="fu">which</span>(modelfx_tbl<span class="sc">$</span>signif <span class="sc">==</span> <span class="st">"&lt;0.05"</span>), <span class="at">color =</span> <span class="st">'white'</span>, <span class="at">background =</span> <span class="st">'#48cae4'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>    <span class="fu">row_spec</span>(<span class="fu">which</span>(modelfx_tbl<span class="sc">$</span>signif <span class="sc">==</span> <span class="st">"&lt;0.01"</span>), <span class="at">color =</span> <span class="st">'white'</span>, <span class="at">background =</span> <span class="st">'#0096c7'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>    <span class="fu">row_spec</span>(<span class="fu">which</span>(modelfx_tbl<span class="sc">$</span>signif <span class="sc">==</span> <span class="st">"&lt;0.001"</span>), <span class="at">color =</span> <span class="st">'white'</span>, <span class="at">background =</span> <span class="st">'#023e8a'</span>) </span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="st">"data"</span> <span class="ot">=</span>  modelfx_tbl, </span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>         <span class="st">"kabel"</span> <span class="ot">=</span> modelfx_kbl, </span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>         <span class="st">"model"</span> <span class="ot">=</span> model_fx))</span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Going beyond the <code>mean</code> variables, this is logistic regression on <code>se</code> and <code>worst</code> variables</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">SE</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">Worst</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std_error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">z_value</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p.value</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">signif</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">lci</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">uci</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">compactness_se</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">extreme (&gt;20)</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">28.6881072</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">1.9957318</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">0.0459631</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">&lt;0.05</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">2.79</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">extreme (&gt;20)</td>
</tr>
<tr class="even">
<td style="text-align: left;">concavePoints_se</td>
<td style="text-align: left;">extreme (&gt;20)</td>
<td style="text-align: right;">64.1740842</td>
<td style="text-align: right;">0.6196717</td>
<td style="text-align: right;">0.5354740</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">extreme (&gt;20)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">smoothness_se</td>
<td style="text-align: left;">extreme (&gt;20)</td>
<td style="text-align: right;">98.6918300</td>
<td style="text-align: right;">0.0425526</td>
<td style="text-align: right;">0.9660582</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">extreme (&gt;20)</td>
</tr>
<tr class="even">
<td style="text-align: left;">concavity_se</td>
<td style="text-align: left;">extreme (&gt;20)</td>
<td style="text-align: right;">11.9515321</td>
<td style="text-align: right;">0.3024004</td>
<td style="text-align: right;">0.7623468</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">extreme (&gt;20)</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">area_se</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">1.48</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">0.0571013</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">6.8906204</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">0.0000000</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">&lt;0.001</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">1.33</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">1.66</td>
</tr>
<tr class="even">
<td style="text-align: left;">perimeter_se</td>
<td style="text-align: left;">1.08</td>
<td style="text-align: right;">0.4762079</td>
<td style="text-align: right;">0.1577165</td>
<td style="text-align: right;">0.8746802</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.42</td>
<td style="text-align: left;">2.74</td>
</tr>
<tr class="odd">
<td style="text-align: left;">texture_se</td>
<td style="text-align: left;">0.72</td>
<td style="text-align: right;">0.4230076</td>
<td style="text-align: right;">-0.7892557</td>
<td style="text-align: right;">0.4299625</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.31</td>
<td style="text-align: left;">1.64</td>
</tr>
<tr class="even">
<td style="text-align: left;">symmetry_se</td>
<td style="text-align: left;">0</td>
<td style="text-align: right;">30.4575195</td>
<td style="text-align: right;">-0.2220117</td>
<td style="text-align: right;">0.8243047</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">extreme (&gt;20)</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">radius_se</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">0</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">6.1378638</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">-4.5991817</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">0.0000042</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">&lt;0.001</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">0</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">0</td>
</tr>
<tr class="even">
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">fractalDimension_se</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">0</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">149.2935576</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">-2.1349435</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">0.0327656</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">&lt;0.05</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">0</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">0</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std_error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">z_value</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p.value</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">signif</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">lci</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">uci</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">smoothness_worst</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">extreme (&gt;20)</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">21.8794929</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">2.4654779</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">0.0136831</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">&lt;0.05</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">extreme (&gt;20)</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">extreme (&gt;20)</td>
</tr>
<tr class="even">
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">concavePoints_worst</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">extreme (&gt;20)</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">16.1553403</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">2.3242271</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">0.0201133</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">&lt;0.05</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">extreme (&gt;20)</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">extreme (&gt;20)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">symmetry_worst</td>
<td style="text-align: left;">extreme (&gt;20)</td>
<td style="text-align: right;">5.8469426</td>
<td style="text-align: right;">1.6456927</td>
<td style="text-align: right;">0.0998270</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.16</td>
<td style="text-align: left;">extreme (&gt;20)</td>
</tr>
<tr class="even">
<td style="text-align: left;">concavity_worst</td>
<td style="text-align: left;">extreme (&gt;20)</td>
<td style="text-align: right;">3.3716060</td>
<td style="text-align: right;">1.3583589</td>
<td style="text-align: right;">0.1743498</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.13</td>
<td style="text-align: left;">extreme (&gt;20)</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">texture_worst</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">1.33</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">0.0600416</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">4.7050803</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">0.0000025</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">&lt;0.001</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">1.18</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">1.49</td>
</tr>
<tr class="even">
<td style="text-align: left;">area_worst</td>
<td style="text-align: left;">1.02</td>
<td style="text-align: right;">0.0146452</td>
<td style="text-align: right;">1.2822481</td>
<td style="text-align: right;">0.1997556</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.99</td>
<td style="text-align: left;">1.05</td>
</tr>
<tr class="odd">
<td style="text-align: left;">perimeter_worst</td>
<td style="text-align: left;">1.01</td>
<td style="text-align: right;">0.1284605</td>
<td style="text-align: right;">0.1011880</td>
<td style="text-align: right;">0.9194012</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.79</td>
<td style="text-align: left;">1.3</td>
</tr>
<tr class="even">
<td style="text-align: left;">radius_worst</td>
<td style="text-align: left;">0.59</td>
<td style="text-align: right;">1.5308645</td>
<td style="text-align: right;">-0.3497579</td>
<td style="text-align: right;">0.7265204</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.03</td>
<td style="text-align: left;">11.76</td>
</tr>
<tr class="odd">
<td style="text-align: left;">fractalDimension_worst</td>
<td style="text-align: left;">0</td>
<td style="text-align: right;">49.2904190</td>
<td style="text-align: right;">-0.1597592</td>
<td style="text-align: right;">0.8730707</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">extreme (&gt;20)</td>
</tr>
<tr class="even">
<td style="text-align: left;">compactness_worst</td>
<td style="text-align: left;">0</td>
<td style="text-align: right;">8.4471895</td>
<td style="text-align: right;">-0.9846105</td>
<td style="text-align: right;">0.3248154</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">extreme (&gt;20)</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="scaling-the-data" class="level2">
<h2 class="anchored" data-anchor-id="scaling-the-data">Scaling the data</h2>
<p>After investigating further, an issue with the above is that the scales for the variables are very different. For instance, <code>fractalDimension</code> values occurs within less than 1 unit difference while <code>area_mean</code> is within the thousand. Here I rerun the models but scale the numbers with the <code>scale()</code> function.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">Mean</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="">SE</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false" href="">Worst</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std_error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">z_value</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p.value</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">signif</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">lci</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">uci</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">area_mean</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">extreme (&gt;20)</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">5.8909033</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">2.3773681</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">0.0174367</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">&lt;0.05</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">11.69</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">extreme (&gt;20)</td>
</tr>
<tr class="even">
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">concavePoints_mean</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">13.37</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">1.1070102</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">2.3422316</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">0.0191688</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">&lt;0.05</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">1.53</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">extreme (&gt;20)</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">texture_mean</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">5.23</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">0.2775752</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">5.9614695</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">0.0000000</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">&lt;0.001</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">3.04</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">9.01</td>
</tr>
<tr class="even">
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">smoothness_mean</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">2.93</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">0.4494181</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">2.3918783</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">0.0167624</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">&lt;0.05</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">1.21</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">7.07</td>
</tr>
<tr class="odd">
<td style="text-align: left;">concavity_mean</td>
<td style="text-align: left;">1.96</td>
<td style="text-align: right;">0.6473276</td>
<td style="text-align: right;">1.0429389</td>
<td style="text-align: right;">0.2969766</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.55</td>
<td style="text-align: left;">6.99</td>
</tr>
<tr class="even">
<td style="text-align: left;">symmetry_mean</td>
<td style="text-align: left;">1.56</td>
<td style="text-align: right;">0.2914299</td>
<td style="text-align: right;">1.5312649</td>
<td style="text-align: right;">0.1257039</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.88</td>
<td style="text-align: left;">2.77</td>
</tr>
<tr class="odd">
<td style="text-align: left;">compactness_mean</td>
<td style="text-align: left;">0.93</td>
<td style="text-align: right;">1.0743433</td>
<td style="text-align: right;">-0.0718900</td>
<td style="text-align: right;">0.9426894</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.11</td>
<td style="text-align: left;">7.6</td>
</tr>
<tr class="even">
<td style="text-align: left;">fractalDimension_mean</td>
<td style="text-align: left;">0.62</td>
<td style="text-align: right;">0.6040610</td>
<td style="text-align: right;">-0.7987342</td>
<td style="text-align: right;">0.4244446</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.19</td>
<td style="text-align: left;">2.02</td>
</tr>
<tr class="odd">
<td style="text-align: left;">perimeter_mean</td>
<td style="text-align: left;">0.18</td>
<td style="text-align: right;">12.2749905</td>
<td style="text-align: right;">-0.1415586</td>
<td style="text-align: right;">0.8874287</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">extreme (&gt;20)</td>
</tr>
<tr class="even">
<td style="text-align: left;">radius_mean</td>
<td style="text-align: left;">0</td>
<td style="text-align: right;">13.0949439</td>
<td style="text-align: right;">-0.5514992</td>
<td style="text-align: right;">0.5812915</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">extreme (&gt;20)</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std_error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">z_value</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p.value</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">signif</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">lci</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">uci</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">area_se</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">extreme (&gt;20)</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">2.5975937</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">6.8906204</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">0.0000000</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">&lt;0.001</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">extreme (&gt;20)</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">extreme (&gt;20)</td>
</tr>
<tr class="even">
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">compactness_se</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">2.79</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">0.5137518</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">1.9957318</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">0.0459631</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">&lt;0.05</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">1.02</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">7.63</td>
</tr>
<tr class="odd">
<td style="text-align: left;">concavePoints_se</td>
<td style="text-align: left;">1.28</td>
<td style="text-align: right;">0.3959724</td>
<td style="text-align: right;">0.6196717</td>
<td style="text-align: right;">0.5354740</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.59</td>
<td style="text-align: left;">2.78</td>
</tr>
<tr class="even">
<td style="text-align: left;">perimeter_se</td>
<td style="text-align: left;">1.16</td>
<td style="text-align: right;">0.9628232</td>
<td style="text-align: right;">0.1577165</td>
<td style="text-align: right;">0.8746802</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.18</td>
<td style="text-align: left;">7.68</td>
</tr>
<tr class="odd">
<td style="text-align: left;">concavity_se</td>
<td style="text-align: left;">1.12</td>
<td style="text-align: right;">0.3607697</td>
<td style="text-align: right;">0.3024004</td>
<td style="text-align: right;">0.7623468</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.55</td>
<td style="text-align: left;">2.26</td>
</tr>
<tr class="even">
<td style="text-align: left;">smoothness_se</td>
<td style="text-align: left;">1.01</td>
<td style="text-align: right;">0.2963240</td>
<td style="text-align: right;">0.0425526</td>
<td style="text-align: right;">0.9660582</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.57</td>
<td style="text-align: left;">1.81</td>
</tr>
<tr class="odd">
<td style="text-align: left;">symmetry_se</td>
<td style="text-align: left;">0.95</td>
<td style="text-align: right;">0.2517732</td>
<td style="text-align: right;">-0.2220117</td>
<td style="text-align: right;">0.8243047</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.58</td>
<td style="text-align: left;">1.55</td>
</tr>
<tr class="even">
<td style="text-align: left;">texture_se</td>
<td style="text-align: left;">0.83</td>
<td style="text-align: right;">0.2333515</td>
<td style="text-align: right;">-0.7892557</td>
<td style="text-align: right;">0.4299625</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.53</td>
<td style="text-align: left;">1.31</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">fractalDimension_se</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">0.43</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">0.3950413</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">-2.1349435</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">0.0327656</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">&lt;0.05</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">0.2</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">0.93</td>
</tr>
<tr class="even">
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">radius_se</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">0</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">1.7021078</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">-4.5991817</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">0.0000042</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">&lt;0.001</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">0</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">0.01</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std_error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">z_value</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p.value</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">signif</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">lci</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">uci</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">area_worst</td>
<td style="text-align: left;">extreme (&gt;20)</td>
<td style="text-align: right;">8.3383263</td>
<td style="text-align: right;">1.2822481</td>
<td style="text-align: right;">0.1997556</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">extreme (&gt;20)</td>
</tr>
<tr class="even">
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">concavePoints_worst</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">11.8</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">1.0619283</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">2.3242271</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">0.0201133</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">&lt;0.05</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">1.47</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">extreme (&gt;20)</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">texture_worst</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">5.68</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">0.3690314</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">4.7050803</td>
<td style="text-align: right; color: white !important; background-color: #023e8a !important;">0.0000025</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">&lt;0.001</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">2.75</td>
<td style="text-align: left; color: white !important; background-color: #023e8a !important;">11.7</td>
</tr>
<tr class="even">
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">smoothness_worst</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">3.43</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">0.4995620</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">2.4654779</td>
<td style="text-align: right; color: white !important; background-color: #48cae4 !important;">0.0136831</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">&lt;0.05</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">1.29</td>
<td style="text-align: left; color: white !important; background-color: #48cae4 !important;">9.12</td>
</tr>
<tr class="odd">
<td style="text-align: left;">concavity_worst</td>
<td style="text-align: left;">2.6</td>
<td style="text-align: right;">0.7033989</td>
<td style="text-align: right;">1.3583589</td>
<td style="text-align: right;">0.1743498</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.65</td>
<td style="text-align: left;">10.32</td>
</tr>
<tr class="even">
<td style="text-align: left;">symmetry_worst</td>
<td style="text-align: left;">1.81</td>
<td style="text-align: right;">0.3617355</td>
<td style="text-align: right;">1.6456927</td>
<td style="text-align: right;">0.0998270</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.89</td>
<td style="text-align: left;">3.69</td>
</tr>
<tr class="odd">
<td style="text-align: left;">perimeter_worst</td>
<td style="text-align: left;">1.55</td>
<td style="text-align: right;">4.3166001</td>
<td style="text-align: right;">0.1011880</td>
<td style="text-align: right;">0.9194012</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">extreme (&gt;20)</td>
</tr>
<tr class="even">
<td style="text-align: left;">fractalDimension_worst</td>
<td style="text-align: left;">0.87</td>
<td style="text-align: right;">0.8902474</td>
<td style="text-align: right;">-0.1597592</td>
<td style="text-align: right;">0.8730707</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.15</td>
<td style="text-align: left;">4.97</td>
</tr>
<tr class="odd">
<td style="text-align: left;">compactness_worst</td>
<td style="text-align: left;">0.27</td>
<td style="text-align: right;">1.3290511</td>
<td style="text-align: right;">-0.9846105</td>
<td style="text-align: right;">0.3248154</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0.02</td>
<td style="text-align: left;">3.66</td>
</tr>
<tr class="even">
<td style="text-align: left;">radius_worst</td>
<td style="text-align: left;">0.08</td>
<td style="text-align: right;">7.3990381</td>
<td style="text-align: right;">-0.3497579</td>
<td style="text-align: right;">0.7265204</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">extreme (&gt;20)</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</div>
</div>
</section>
<section id="comparing-ors-across-models" class="level2">
<h2 class="anchored" data-anchor-id="comparing-ors-across-models">Comparing ORs across models</h2>
<p>The scaled models provide a more somewhat useful baseline for moving forward. Here we chart the ORs from the models, comparing across the measurement types (mean, se, and worst). It excludes the extreme values (eg. area mean).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>scale_ls <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="fu">paste0</span>(<span class="st">"scale_"</span>, <span class="fu">c</span>(<span class="st">"mean"</span>, <span class="st">"se"</span>, <span class="st">"worst"</span>)), <span class="cf">function</span>(x) {</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get</span>(x) <span class="sc">|&gt;</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pluck</span>(<span class="st">"data"</span>)<span class="sc">|&gt;</span> </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(term, estimate, lci, uci)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>plot_data1 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(scale_ls) <span class="sc">|&gt;</span> </span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">feature =</span> <span class="fu">str_to_title</span>(<span class="fu">sub</span>(<span class="st">"(?=[A-Z])"</span>,<span class="st">" "</span>,<span class="fu">gsub</span>(<span class="st">"_.*"</span>, <span class="st">""</span>, term), <span class="at">perl =</span>T)),</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">measure =</span> <span class="fu">gsub</span>(<span class="st">".*_"</span>, <span class="st">""</span>, term), </span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>         <span class="fu">across</span>(<span class="fu">c</span>(estimate, lci, uci), <span class="sc">~</span> <span class="fu">round</span>(<span class="fu">exp</span>(.x),<span class="dv">2</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(estimate <span class="sc">&lt;</span> <span class="dv">20</span>) </span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>  plot_data1 <span class="sc">|&gt;</span> </span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> estimate, <span class="at">y =</span> term)) <span class="sc">+</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> feature, <span class="at">scales =</span> <span class="st">"free_y"</span>, <span class="at">ncol =</span> <span class="dv">1</span>, </span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>               <span class="at">strip.position =</span> <span class="st">"left"</span>, </span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>               <span class="at">dir =</span> <span class="st">"v"</span>) <span class="sc">+</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_discrete</span>(<span class="at">labels =</span> <span class="fu">pull</span>(plot_data1 , measure, term)) <span class="sc">+</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">11</span>)) <span class="sc">+</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Odds ratio"</span>, </span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Measure"</span>) <span class="sc">+</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">strip.text.y.left =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">face =</span> <span class="st">"bold"</span>), </span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>          <span class="at">strip.placement =</span> <span class="st">"outside"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="breastCancerCells_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="evaluate" class="level2">
<h2 class="anchored" data-anchor-id="evaluate">Evaluate</h2>
<p>To evaluate the models further, here is another function to get general stats from each model</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>get_modeleval <span class="ot">&lt;-</span> <span class="cf">function</span>(model_input, <span class="at">scaled =</span> T) {</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    newDat <span class="ot">&lt;-</span> bc_import[<span class="fu">names</span>(<span class="fu">coef</span>(model_input))[<span class="sc">-</span><span class="dv">1</span>]] <span class="sc">|&gt;</span> </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), <span class="sc">~</span> <span class="fu">scale</span>(.x)))</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    pred_prob <span class="ot">&lt;-</span> <span class="fu">predict</span>(model_input, </span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>                          newDat, </span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>                         <span class="at">type =</span> <span class="st">"response"</span>)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    bc_predict <span class="ot">&lt;-</span> <span class="fu">cbind</span>(bc_import, pred_prob) <span class="sc">|&gt;</span> </span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>          <span class="fu">mutate</span>(<span class="at">pred_prob2 =</span> <span class="fu">factor</span>(<span class="fu">round</span>(pred_prob, <span class="dv">0</span>), <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>)),</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>                 <span class="at">outcome =</span> <span class="fu">factor</span>(outcome, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>))) </span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    tbl_accuracy <span class="ot">&lt;-</span> <span class="fu">table</span>( bc_predict<span class="sc">$</span>pred_prob2, bc_predict<span class="sc">$</span>outcome)</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    accuracy <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">diag</span>(tbl_accuracy))<span class="sc">/</span><span class="fu">sum</span>(tbl_accuracy)<span class="sc">*</span><span class="dv">100</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">#True Positive Rate – Recall or Sensitivity</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># sensitivity &lt;- (tbl_accuracy[2, 2]/sum(tbl_accuracy[2, ]))*100</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>    sensitivity <span class="ot">&lt;-</span> <span class="fu">sensitivity</span>(tbl_accuracy)</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    <span class="co">#The true negative rate (also called specificity), which is the probability that an actual negative will test negative</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># specificity &lt;- (tbl_accuracy[1, 1]/sum(tbl_accuracy[1, ]))*100</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>    specificity <span class="ot">&lt;-</span> <span class="fu">specificity</span>(tbl_accuracy )</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Precision indicates how often does your predicted TRUE values are actually TRUE.</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>    precision <span class="ot">&lt;-</span> (tbl_accuracy[<span class="dv">2</span>, <span class="dv">2</span>]<span class="sc">/</span><span class="fu">sum</span>(tbl_accuracy[, <span class="dv">2</span>]))<span class="sc">*</span><span class="dv">100</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>    precision</span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>    <span class="co">#F-Score is a harmonic mean of recall and precision. The score value lies between 0 and 1. The value of 1 represents perfect precision &amp; recall. The value 0 represents the worst case.</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>    F_Score <span class="ot">&lt;-</span> (<span class="dv">2</span> <span class="sc">*</span> precision <span class="sc">*</span> sensitivity <span class="sc">/</span> (precision <span class="sc">+</span> sensitivity))<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>    F_Score</span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>    roc <span class="ot">&lt;-</span> <span class="fu">roc</span>(bc_import<span class="sc">$</span>outcome, model_input<span class="sc">$</span>fitted.values)</span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>    output_ <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"accuracy"</span> <span class="ot">=</span> accuracy, </span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>    <span class="st">"sensitivity"</span> <span class="ot">=</span> sensitivity,</span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>    <span class="st">"specificity"</span> <span class="ot">=</span> specificity,</span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>    <span class="st">"precision"</span> <span class="ot">=</span> precision,</span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>    <span class="st">"F_Score"</span> <span class="ot">=</span> F_Score,</span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>    <span class="st">"auc"</span> <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">auc</span>(roc))</span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(output_)</span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Running the function gets the following results. Although looking at only <code>mean</code> variables is a strong model, using the <code>worst</code> variables could potentially be a more accurate model</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>model_evals <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_modeleval</span>(scale_mean<span class="sc">$</span>model),</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">get_modeleval</span>(scale_worst<span class="sc">$</span>model)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>(</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="fu">get_modeleval</span>(scale_se<span class="sc">$</span>model)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(<span class="st">"model"</span>  <span class="ot">=</span><span class="fu">c</span>(<span class="st">"mean"</span>, <span class="st">"worst"</span>, <span class="st">"se"</span>)) </span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>model_evals <span class="sc">|&gt;</span> </span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">accuracy</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">sensitivity</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">specificity</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">precision</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">F_Score</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">auc</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">model</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">94.90334</td>
<td style="text-align: right;">0.9103774</td>
<td style="text-align: right;">0.9719888</td>
<td style="text-align: right;">97.19888</td>
<td style="text-align: right;">0.0180386</td>
<td style="text-align: right;">0.9879235</td>
<td style="text-align: left;">mean</td>
</tr>
<tr class="even">
<td style="text-align: right;">98.06678</td>
<td style="text-align: right;">0.9669811</td>
<td style="text-align: right;">0.9887955</td>
<td style="text-align: right;">98.87955</td>
<td style="text-align: right;">0.0191523</td>
<td style="text-align: right;">0.9929179</td>
<td style="text-align: left;">worst</td>
</tr>
<tr class="odd">
<td style="text-align: right;">89.98243</td>
<td style="text-align: right;">0.8018868</td>
<td style="text-align: right;">0.9579832</td>
<td style="text-align: right;">95.79832</td>
<td style="text-align: right;">0.0159046</td>
<td style="text-align: right;">0.9611014</td>
<td style="text-align: left;">se</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="principal-component-analysis" class="level2">
<h2 class="anchored" data-anchor-id="principal-component-analysis">Principal component analysis</h2>
<p>Prepare the data by splitting into a train vs.&nbsp;test set then runs the PCA</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>smp_size <span class="ot">&lt;-</span> <span class="fu">floor</span>(<span class="fl">0.75</span> <span class="sc">*</span> <span class="fu">nrow</span>(bc_import))</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>train_ind <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">seq</span>(<span class="fu">nrow</span>(bc_import)), <span class="at">size =</span> smp_size)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>train <span class="ot">&lt;-</span> bc_import[train_ind, <span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">33</span>)]</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> bc_import[<span class="sc">-</span>train_ind, <span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">33</span>)]</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>pca.train <span class="ot">&lt;-</span> train <span class="sc">|&gt;</span> </span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.matrix</span>() <span class="sc">|&gt;</span> </span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scales the data</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale</span>() <span class="sc">|&gt;</span> </span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  <span class="co">#runs the PCA</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prcomp</span>()  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>This plots the cumulative proportion from the PCA. It seems to stall around 15, but really loses steam around 10.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>elbow <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">cumu =</span> <span class="fu">summary</span>(pca.train)<span class="sc">$</span>importance[<span class="dv">3</span>,] ) <span class="sc">|&gt;</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pc =</span> <span class="fu">row_number</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> pc, <span class="at">y =</span> cumu)) <span class="sc">+</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Cumulative Proportion"</span>) <span class="sc">+</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>elbow</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="breastCancerCells_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This zooms in on the 1-10 cumulative proportions</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>elbow <span class="sc">%+%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">subset</span>(elbow<span class="sc">$</span>data, pc <span class="sc">&lt;=</span> <span class="dv">9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="breastCancerCells_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Next we derive a model from the PCA output</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#reformats the data for input into the model</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>train_ds <span class="ot">&lt;-</span> pca.train<span class="sc">$</span>x <span class="sc">|&gt;</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(<span class="st">"diag"</span> <span class="ot">=</span> <span class="fu">factor</span>(bc_import[train_ind, <span class="dv">2</span>])) </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co">#the model</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>model_pca <span class="ot">&lt;-</span> MASS<span class="sc">::</span><span class="fu">lda</span>(diag <span class="sc">~</span> PC1 <span class="sc">+</span> PC2 <span class="sc">+</span> PC3 <span class="sc">+</span> PC4 <span class="sc">+</span> PC5 <span class="sc">+</span> PC6, <span class="at">data =</span> train_ds)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co">#reformats the test data into PCA matrix for computation in the model</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>test_ds <span class="ot">&lt;-</span> test <span class="sc">|&gt;</span> </span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.matrix</span>() <span class="sc">|&gt;</span> </span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale</span>() <span class="sc">%*%</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>    pca.train<span class="sc">$</span>rotation <span class="sc">|&gt;</span> </span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.data.frame</span>()</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="co">#uses the model to predict the outcome</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>predicted_pca <span class="ot">&lt;-</span> <span class="fu">predict</span>(model_pca, <span class="at">newdata =</span> test_ds)</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a><span class="co"># predicted_pca$x</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a><span class="co"># predicted_pca$posterior #probabilties</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a><span class="co"># predicted_pca$class #predicted outcome</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>compare_pca <span class="ot">&lt;-</span> test_ds <span class="sc">|&gt;</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(<span class="st">"prob"</span> <span class="ot">=</span> predicted_pca<span class="sc">$</span>posterior) <span class="sc">|&gt;</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(<span class="st">"predicted"</span> <span class="ot">=</span> predicted_pca<span class="sc">$</span>class) <span class="sc">|&gt;</span> </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(<span class="st">"actual"</span> <span class="ot">=</span> bc_import[<span class="sc">-</span>train_ind, <span class="dv">2</span>]) </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>compare <span class="ot">&lt;-</span> bc_import[<span class="sc">-</span>train_ind,] <span class="sc">|&gt;</span> </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(<span class="st">"prob"</span> <span class="ot">=</span> predicted_pca<span class="sc">$</span>posterior) <span class="sc">|&gt;</span> </span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(<span class="st">"predicted"</span> <span class="ot">=</span> predicted_pca<span class="sc">$</span>class) <span class="sc">|&gt;</span> </span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">diagnosis =</span> <span class="fu">factor</span>(diagnosis, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"M"</span>, <span class="st">"B"</span>)), </span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">predicted =</span> <span class="fu">factor</span>(predicted, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"M"</span>, <span class="st">"B"</span>)))</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>    tbl_accuracy <span class="ot">&lt;-</span> <span class="fu">table</span>(compare<span class="sc">$</span>predicted, compare<span class="sc">$</span>diagnosis)</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>    accuracy <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">diag</span>(tbl_accuracy))<span class="sc">/</span><span class="fu">sum</span>(tbl_accuracy)<span class="sc">*</span><span class="dv">100</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>    <span class="co">#True Positive Rate – Recall or Sensitivity</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># sensitivity &lt;- (tbl_accuracy[2, 2]/sum(tbl_accuracy[2, ]))*100</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>    sensitivity <span class="ot">&lt;-</span> <span class="fu">sensitivity</span>(tbl_accuracy)</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">#The true negative rate (also called specificity), which is the probability that an actual negative will test negative</span></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># specificity &lt;- (tbl_accuracy[1, 1]/sum(tbl_accuracy[1, ]))*100</span></span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>    specificity <span class="ot">&lt;-</span> <span class="fu">specificity</span>(tbl_accuracy )</span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Precision indicates how often does your predicted TRUE values are actually TRUE.</span></span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>    precision <span class="ot">&lt;-</span> (tbl_accuracy[<span class="dv">2</span>, <span class="dv">2</span>]<span class="sc">/</span><span class="fu">sum</span>(tbl_accuracy[, <span class="dv">2</span>]))<span class="sc">*</span><span class="dv">100</span></span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>    <span class="co">#F-Score is a harmonic mean of recall and precision. The score value lies between 0 and 1. The value of 1 represents perfect precision &amp; recall. The value 0 represents the worst case.</span></span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>    F_Score <span class="ot">&lt;-</span> (<span class="dv">2</span> <span class="sc">*</span> precision <span class="sc">*</span> sensitivity <span class="sc">/</span> (precision <span class="sc">+</span> sensitivity))<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a>    roc <span class="ot">&lt;-</span> <span class="fu">roc</span>(compare<span class="sc">$</span>outcome, compare<span class="sc">$</span>prob.M)</span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a>     newmod <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"accuracy"</span> <span class="ot">=</span> accuracy, </span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a>    <span class="st">"sensitivity"</span> <span class="ot">=</span> sensitivity,</span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a>    <span class="st">"specificity"</span> <span class="ot">=</span> specificity,</span>
<span id="cb13-45"><a href="#cb13-45" aria-hidden="true" tabindex="-1"></a>    <span class="st">"precision"</span> <span class="ot">=</span> precision,</span>
<span id="cb13-46"><a href="#cb13-46" aria-hidden="true" tabindex="-1"></a>    <span class="st">"F_Score"</span> <span class="ot">=</span> F_Score,</span>
<span id="cb13-47"><a href="#cb13-47" aria-hidden="true" tabindex="-1"></a>    <span class="st">"auc"</span> <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">auc</span>(roc))</span>
<span id="cb13-48"><a href="#cb13-48" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Note that the PCA model used training vs.&nbsp;testing data</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>model_evals <span class="sc">|&gt;</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>     <span class="fu">bind_rows</span>(newmod) <span class="sc">|&gt;</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>     <span class="fu">mutate</span>(<span class="at">model =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(model), <span class="st">"PCA"</span>, model)) <span class="sc">|&gt;</span> </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>     <span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">accuracy</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">sensitivity</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">specificity</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">precision</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">F_Score</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">auc</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">model</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">94.90334</td>
<td style="text-align: right;">0.9103774</td>
<td style="text-align: right;">0.9719888</td>
<td style="text-align: right;">97.19888</td>
<td style="text-align: right;">0.0180386</td>
<td style="text-align: right;">0.9879235</td>
<td style="text-align: left;">mean</td>
</tr>
<tr class="even">
<td style="text-align: right;">98.06678</td>
<td style="text-align: right;">0.9669811</td>
<td style="text-align: right;">0.9887955</td>
<td style="text-align: right;">98.87955</td>
<td style="text-align: right;">0.0191523</td>
<td style="text-align: right;">0.9929179</td>
<td style="text-align: left;">worst</td>
</tr>
<tr class="odd">
<td style="text-align: right;">89.98243</td>
<td style="text-align: right;">0.8018868</td>
<td style="text-align: right;">0.9579832</td>
<td style="text-align: right;">95.79832</td>
<td style="text-align: right;">0.0159046</td>
<td style="text-align: right;">0.9611014</td>
<td style="text-align: left;">se</td>
</tr>
<tr class="even">
<td style="text-align: right;">91.60839</td>
<td style="text-align: right;">0.8095238</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">100.00000</td>
<td style="text-align: right;">0.0160605</td>
<td style="text-align: right;">0.9966270</td>
<td style="text-align: left;">PCA</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="correlations" class="level2">
<h2 class="anchored" data-anchor-id="correlations">Correlations</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>bc2 <span class="ot">&lt;-</span> scale_data <span class="sc">|&gt;</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># mutate(across(ends_with("mean"), scale)) |&gt; </span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">outcome =</span> <span class="fu">as.integer</span>(outcome)) <span class="sc">|&gt;</span> </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(outcome, <span class="fu">ends_with</span>(<span class="st">"mean"</span>)) </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select(-    diagnosis) |&gt; </span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>pear.cor <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="fu">names</span>(bc2)[<span class="sc">-</span><span class="dv">1</span>], <span class="cf">function</span>(x) {</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cor.test</span>(bc2<span class="sc">$</span>outcome, bc2[[x]]<span class="co">#, method = "spearman"</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>           )</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>cor_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">"term"</span> <span class="ot">=</span> <span class="fu">names</span>(bc2)[<span class="sc">-</span><span class="dv">1</span>],</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"estimate"</span> <span class="ot">=</span> <span class="fu">reduce</span>(<span class="fu">map</span>(pear.cor, <span class="st">"estimate"</span>), append), </span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>  <span class="st">"lci"</span> <span class="ot">=</span> <span class="fu">reduce</span>(<span class="fu">map</span>(<span class="fu">map</span>(pear.cor, <span class="st">"conf.int"</span>), first), append),</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>  <span class="st">"uci"</span>  <span class="ot">=</span> <span class="fu">reduce</span>(<span class="fu">map</span>(<span class="fu">map</span>(pear.cor, <span class="st">"conf.int"</span>), nth, <span class="at">n =</span> <span class="dv">2</span>), append),</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pval"</span> <span class="ot">=</span> <span class="fu">reduce</span>(<span class="fu">map</span>(pear.cor, <span class="st">"p.value"</span>), append)</span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Plotting the pearson correlation to the malignancy</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="breastCancerCells_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="archive" class="level2">
<h2 class="anchored" data-anchor-id="archive">Archive</h2>
<p>The OG code for the tables</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># bc_import |&gt; </span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(-c(1:2)) |&gt; </span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(outcome, ends_with("mean")) %&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(-radius_mean, -concavePoints_mean) %&gt;% </span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   # select(-diagnosis) %&gt;%</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   glm(outcome ~ ., data = ., family = "binomial") |&gt; </span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   broom::tidy() |&gt; </span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(or = exp(estimate))</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="co">#scales everything</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>model2 <span class="ot">&lt;-</span> bc_import <span class="sc">|&gt;</span> </span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">ends_with</span>(<span class="st">"mean"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), <span class="sc">~</span><span class="fu">scale</span>(.x))) <span class="sc">|&gt;</span> </span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(<span class="at">outcome =</span> bc_import<span class="sc">$</span>outcome) <span class="sc">%&gt;%</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">starts_with</span>(<span class="fu">c</span>(<span class="st">"radius"</span>, <span class="st">"concavePoints"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select(-radius_mean, -concavePoints_mean) %&gt;% </span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select(-diagnosis) %&gt;%</span></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glm</span>(outcome <span class="sc">~</span> ., <span class="at">data =</span> ., <span class="at">family =</span> <span class="st">"binomial"</span>) </span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># broom::tidy() |&gt; </span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># mutate(or = exp(estimate)) |&gt; </span></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select(term, or)</span></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>model2_cis <span class="ot">&lt;-</span> <span class="fu">confint.default</span>(model2) <span class="sc">|&gt;</span> </span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> </span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="st">"term"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>) </span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(model2_cis) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"term"</span>, <span class="st">"lci"</span>, <span class="st">"uci"</span>)</span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>model2_tbl <span class="ot">&lt;-</span> <span class="fu">summary</span>(model2) <span class="sc">|&gt;</span> </span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pluck</span>(<span class="st">'coefficients'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> </span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rownames_to_column</span>(<span class="st">"term"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a>    janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="at">p.value =</span> pr_z) <span class="sc">|&gt;</span> </span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb16-47"><a href="#cb16-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="sc">-</span>estimate) <span class="sc">|&gt;</span> </span>
<span id="cb16-48"><a href="#cb16-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">signif =</span> <span class="fu">case_when</span>(</span>
<span id="cb16-49"><a href="#cb16-49" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.001</span> <span class="sc">~</span> <span class="st">"&lt;0.001"</span>,</span>
<span id="cb16-50"><a href="#cb16-50" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.01</span> <span class="sc">~</span> <span class="st">"&lt;0.01"</span>, </span>
<span id="cb16-51"><a href="#cb16-51" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.05</span> <span class="sc">~</span> <span class="st">"&lt;0.05"</span>, </span>
<span id="cb16-52"><a href="#cb16-52" aria-hidden="true" tabindex="-1"></a>      T <span class="sc">~</span> <span class="st">""</span></span>
<span id="cb16-53"><a href="#cb16-53" aria-hidden="true" tabindex="-1"></a>    ), </span>
<span id="cb16-54"><a href="#cb16-54" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb16-55"><a href="#cb16-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(model2_cis, <span class="at">by =</span> <span class="st">"term"</span>) </span>
<span id="cb16-56"><a href="#cb16-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-57"><a href="#cb16-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-58"><a href="#cb16-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-59"><a href="#cb16-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-60"><a href="#cb16-60" aria-hidden="true" tabindex="-1"></a> model2_tbl <span class="sc">|&gt;</span> </span>
<span id="cb16-61"><a href="#cb16-61" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(estimate, lci, uci), <span class="sc">~</span> <span class="fu">round</span>(<span class="fu">exp</span>(.x),<span class="dv">2</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb16-62"><a href="#cb16-62" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(estimate, lci, uci), <span class="sc">~</span> <span class="fu">ifelse</span>(.x <span class="sc">&gt;</span> <span class="dv">20</span>, <span class="st">"extreme (&gt;20)"</span>, <span class="fu">as.character</span>(.x)) )) <span class="sc">|&gt;</span> </span>
<span id="cb16-63"><a href="#cb16-63" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>( ) <span class="sc">|&gt;</span> </span>
<span id="cb16-64"><a href="#cb16-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="fu">which</span>(model1_tbl<span class="sc">$</span>signif <span class="sc">==</span> <span class="st">"&lt;0.05"</span>), <span class="at">color =</span> <span class="st">'white'</span>, <span class="at">background =</span> <span class="st">'#48cae4'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb16-65"><a href="#cb16-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="fu">which</span>(model1_tbl<span class="sc">$</span>signif <span class="sc">==</span> <span class="st">"&lt;0.01"</span>), <span class="at">color =</span> <span class="st">'white'</span>, <span class="at">background =</span> <span class="st">'#0096c7'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb16-66"><a href="#cb16-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="fu">which</span>(model1_tbl<span class="sc">$</span>signif <span class="sc">==</span> <span class="st">"&lt;0.001"</span>), <span class="at">color =</span> <span class="st">'white'</span>, <span class="at">background =</span> <span class="st">'#023e8a'</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>This was the logit of the 1 variable used in the shiny app.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="do">##just 1 </span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>diff <span class="ot">&lt;-</span> bc_import <span class="sc">|&gt;</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>diagnosis) <span class="sc">|&gt;</span> </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select(ends_with("mean")) |&gt; </span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fractalDimension_mean =</span> fractalDimension_mean<span class="sc">*</span><span class="dv">100</span> ) <span class="sc">|&gt;</span> </span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), <span class="sc">~</span> <span class="fu">max</span>(.x) <span class="sc">-</span> <span class="fu">min</span>(.x))) </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>varz <span class="ot">=</span> <span class="st">"fractalDimension_mean"</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>model_single <span class="ot">&lt;-</span> bc_import <span class="sc">%&gt;%</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">fractalDimension_mean =</span> fractalDimension_mean<span class="sc">*</span><span class="dv">100</span> ) <span class="sc">|&gt;</span> </span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">var =</span> varz) <span class="sc">%&gt;%</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glm</span>(outcome <span class="sc">~</span> var, <span class="at">data =</span> ., <span class="at">family =</span> <span class="st">"binomial"</span>)</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>diff_ <span class="ot">&lt;-</span> diff[[varz]]</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>maxz <span class="ot">&lt;-</span> <span class="fu">max</span>(bc_import[[varz]])</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>minz <span class="ot">&lt;-</span> <span class="fu">min</span>(bc_import[[varz]])</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>odds_ratio <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">coef</span>(model_single)[<span class="sc">-</span><span class="dv">1</span>])</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>odds_ratioz <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(odds_ratio <span class="sc">&gt;</span><span class="dv">20</span>, <span class="st">"OR: &gt;20"</span>, <span class="fu">paste0</span>(<span class="st">"OR: "</span>, <span class="fu">round</span>(odds_ratio, <span class="dv">2</span>)))</span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>model_single_predict <span class="ot">&lt;-</span> <span class="fu">predict</span>(model_single, <span class="fu">data.frame</span>(<span class="at">var =</span> <span class="fu">seq</span>(minz, maxz, maxz<span class="sc">/</span><span class="dv">50</span>)),  <span class="at">type =</span> <span class="st">"response"</span>)</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>pred_test3 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">var =</span> <span class="fu">seq</span>(minz, maxz, maxz<span class="sc">/</span><span class="dv">50</span>), <span class="at">predict_controlarea =</span> model_single_predict)</span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>inflection_point <span class="ot">&lt;-</span> <span class="sc">-</span><span class="fu">coef</span>(model_single)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">coef</span>(model_single)[<span class="dv">2</span>]</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>bc_import <span class="sc">|&gt;</span> </span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">var =</span> varz) <span class="sc">%&gt;%</span></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">x =</span>  var, <span class="at">y =</span> outcome, <span class="at">group =</span> outcome), <span class="at">height =</span> <span class="fl">0.25</span>) <span class="sc">+</span></span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> pred_test3, <span class="fu">aes</span>(<span class="at">x =</span> var, <span class="at">y =</span> predict_controlarea)) <span class="sc">+</span></span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># geom_point(aes(x = inflection_point, y =0.5), color = "purple", size = 4) +</span></span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>), </span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Benign"</span>, <span class="st">"Malignanct"</span>)) <span class="sc">+</span></span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label</span>(<span class="fu">aes</span>(<span class="at">label =</span> odds_ratioz, <span class="at">x =</span> maxz, <span class="at">y =</span> <span class="fl">0.5</span>), <span class="at">hjust =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> varz) <span class="sc">+</span></span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>())</span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-48"><a href="#cb17-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-49"><a href="#cb17-49" aria-hidden="true" tabindex="-1"></a><span class="co">#to know the inflection point of the model, or the value where p(50) </span></span>
<span id="cb17-50"><a href="#cb17-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-51"><a href="#cb17-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-52"><a href="#cb17-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-53"><a href="#cb17-53" aria-hidden="true" tabindex="-1"></a><span class="co">#tries to assign a random cut to the rest of the data but the other vars are too controlling</span></span>
<span id="cb17-54"><a href="#cb17-54" aria-hidden="true" tabindex="-1"></a><span class="co"># pred_test2 &lt;- bc_import</span></span>
<span id="cb17-55"><a href="#cb17-55" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb17-56"><a href="#cb17-56" aria-hidden="true" tabindex="-1"></a><span class="co"># pred_test2$area_mean &lt;- sample(seq(1, 2357.50000, 2357.50000/50), nrow(bc_import), replace = T)</span></span>
<span id="cb17-57"><a href="#cb17-57" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb17-58"><a href="#cb17-58" aria-hidden="true" tabindex="-1"></a><span class="co"># predict_controlarea &lt;- predict(model1, pred_test2, type = "response")</span></span>
<span id="cb17-59"><a href="#cb17-59" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb17-60"><a href="#cb17-60" aria-hidden="true" tabindex="-1"></a><span class="co"># pred_test2$predict_controlarea &lt;-  predict_controlarea</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Source: https://www.kaggle.com/datasets/uciml/breast-cancer-wisconsin-data</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>